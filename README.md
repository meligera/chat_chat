<!-- Simple Python socket chat -->
# Проектное задание:
*  Список пользователей чата
*  Пользователи общаются друг с другом
*  Сервер отправляет сообщение со списком пользователей для общения на выбор
*  Описать и оформить код (главное - комментарии и аккуратность)

# Структура проектного задания:
1) Описание работы: в чём задание, что использовалось, как работает, на чём основано, какие технологии используются 
2) Теоретическая часть: подробная теоретическая сводка по предыдущему пункту 
3) Практическая часть: ваш код с описаниями блоков. что в нём происходит, как это работает, зачем это нужно
4) Скриншоты работы в разных ситуациях
5) Выводы 

<!-- DESCRIPTION -->
## 1. Описание работы проекта
Задание состоит в создании чата, в котором пользователи могут подключаться и общаться как со всеми, так и отправлять сообщения определенным клиентам.
В проекте есть сервер, который обрабатывает запросы от клиентов и является связующим звеном. Сервер работает с технической частью, переводит запросы клиентов в техническую информацию. Задача клиента сводится к отправке и получению сообщений и не более.

Для работы проекта использовались модули <b>Socket</b> и <b>Threading</b>. <b>Socket</b> это низкоуровневый сетевой интерфейс, он позволяет серверному сокету прослушивать определенный порт, а клиентскому сокету подключаться к серверу. Модуль <b>Threading</b> значительно упрощает работу с потоками и позволяет программировать запуск нескольких операций одновременно, это позволит серверу принимать все входящие подключения и сообщения, а клиентам принимать и отправлять сообщения. Без модуля все бы шло "лесенкой" нарушая логику последовательности выполнения программы.

### Установка

1. Для начала клонируем репозиторий:
   ```sh
   git clone https://github.com/meligera/chat_chat.git
   ```
2. Переходим в папку с проектом: 
    ```sh
   cd chat_chat
   ```
3. Запускаем сервер командой:
    ```sh
   python server.py
   ```
4. Теперь можем принимать подключения от клиентов:
    ```sh
   python client.py
   ```

## 2. Теоретическая часть
Принцип работы проекта:

<a href="https://ibb.co/CVXrRfg"><img src="https://i.ibb.co/zPLkqzp/image.png" alt="Принцип работы проекта" border="0"></a>

<hr>

В программировании конкуренция (от англ. concurrent - одновременный) — это одновременное выполнение разных задач (потоков, процессов).
Зачастую нам хочется распараллелить выполнение задач по одной из множества причин, например:

1) Ограничения ввода-вывода (процессы выполняются быстрее, чем работа с памятью, дисками, сетями и т.д.)
2) Ограничения процессора (сложные вычисления, трудоемкие процессы)
3) Последовательность или синхронность задач. (одни выполняются быстрее, другие медленнее)
4) Асинхронность задач (задачи выполняются независимо и нужно упорядочить их выполнение)

Базовое понятие <b>потоков</b>:
* Потоки работают внутри процесса, разделяя между собой
физические ресурсы процессора.
* В Python для этого есть модуль <b>Threading</b>, который использует
потоки, а не процессы. Threading (от англ. thread - нить, жила)

## 3. Практическая часть
### Серверная часть

```sh
# Импортирование модулей
import threading
import socket

# Функция отправки сообщений всем
def broadcast(message: str)
       
# Функция отправки определенному пользователю
def send(message: str, client: str)

# Функция обработки команд от клиента, если команды нет, то происходит пересылка сообщения всем пользователям
def handle()

# Главная функция, производящая авторизацию и начинающую поток с каждым подключением
def recieve()

# Вызов потока в функции recieve()
thread = threading.Thread(target=handle, args=(client,))
thread.start()

# Отправка отформатированного сообщения
def whisper(message: str, name: str) 

#  Основной модуль вызова программы
if __name__ == '__main__'
```
### Клиентская часть
```sh
# Импортирование модулей
import threading
import socket

# Функция приема сообщений
def recieve()

#  Функция отправки сообщений
def write()

# Запуск двух функции в потоке
recieve_thread = threading.Thread(target=recieve)
recieve_thread.start()
write_thread = threading.Thread(target=write)
write_thread.start()
```

## 4. Скриншоты работы в разных ситуациях

Пример общения клиентов:

<a href="https://ibb.co/vXtYk8p"><img src="https://i.ibb.co/qJZ5pwK/All-demo.png" alt="All-chat" border="0"></a>

Пример вывода списка клиентов:

<a href="https://ibb.co/W2KcqMH"><img src="https://i.ibb.co/BCsgdQf/Screenshot-from-2022-05-18-10-42-18.png" alt="Client list" border="0"></a>

Регистрация:

<a href="https://ibb.co/z8j7QHt"><img src="https://i.ibb.co/rbTcFfX/Screenshot-from-2022-05-18-10-39-47.png" alt="Registration form" border="0"></a>

## 5. Выводы
Благодаря работе над проектом понял логику имплементации потоков, важность понимания последовательности и структуры выполнения команд. Важность подготовки перед написанием кода, лучше сначала составить логику выполнения на схеме, и только потом производить реализацию в коде. 

Питон не может ошибаться, а вот разработчик может, и винить в своих ошибках интерпретатор не стоит, нужно заглянуть в себя. Убрать лишние, сократить структуру до минимума. Поставить дебаг сообщения, пойти подышать воздухом, и со свежей головой продолжить работу.
